/*
 *	Apollo Guidance Computer - Emulator
 *
 *  Authors: Alexander DeRoberto, Antonio Di Tecco 
 */

#include "agc.h"

void agc::loadBIOS(){
	
	// SOTTOPROGRAMMA 1: Test RAM, registro A
	ROM[2092] = 0b0101000000000000; // INCR A
	ROM[2093] = 0b0000000000001100; // EXT
	ROM[2094] = 0b1100000000000000; // SU A
	
	ROM[2095] = 0b0000000000001100; // EXT
	ROM[2096] = 0b0011000001100110; // BZF 2099

	ROM[2097] = 0b0000000000001100; // EXT
	ROM[2098] = 0b0001110000000000; // ALT

	// SOTTOPROGRAMMA 2: Test RAM, registro L
	ROM[2099] = 0b0101000000000000;	// INCR A
	ROM[2100] = 0b0101000000000010;	// INCR L
	ROM[2101] = 0b0000000000001100; // EXT
	ROM[2102] = 0b1100000000000010; // SU L
	
	ROM[2103] = 0b0000000000001100; // EXT
	ROM[2104] = 0b0011000111111000; // BZF 2300 (salta a main)
	
	ROM[2105] = 0b0000000000001100; // EXT
	ROM[2106] = 0b0001110000000000; // ALT
	
}

void agc::loadINT16(){
//index (530)
//indirizzo di DSPTAB (531)

//543-553 arrayCifra1
RAM[543] = 0b1000000000000000; // -0 (blank)
RAM[544] = 0b1000000000000000; // -0 (blank)
RAM[545] = 0b1000000000000000; // -0 (blank)
RAM[546] = (16 << 1);
RAM[547] = (16 << 1);
RAM[548] = (16 << 1);
RAM[549] = (16 << 1);
RAM[550] = (16 << 1);
RAM[551] = (16 << 1);
RAM[552] = (16 << 1);
RAM[553] = (16 << 1);
//554-564 arrayCifra2
RAM[554] = 0b1000000000000000; // -0 (blank)
RAM[555] = 0b1000000000000000; // -0 (blank)
RAM[556] = 0b1000000000000000; // -0 (blank)
RAM[557] = (16 << 1);
RAM[558] = (16 << 1);
RAM[559] = (16 << 1);
RAM[560] = (16 << 1);
RAM[561] = (16 << 1);
RAM[562] = (16 << 1);
RAM[563] = (16 << 1);
RAM[564] = (16 << 1);
//lamps1 and lamps2
RAM[565] = 0b1100000000000000;
RAM[566] = 0b0000000101000000;

ROM[2988] = 0b1011000000000000;	//costantiDSPTAB
ROM[2989] = 0b1010000000000000;
ROM[2990] = 0b1001000000000000;
ROM[2991] = 0b1000000000000000;
ROM[2992] = 0b0111000000000000;
ROM[2993] = 0b0110000000000000;
ROM[2994] = 0b0101000000000000;
ROM[2995] = 0b0100000000000000;
ROM[2996] = 0b0011000000000000;
ROM[2997] = 0b0010000000000000;
ROM[2998] = 0b0001000000000000;

ROM[2999] = 0b1111111111101000; //costante (valore timer)
ROM[3000] = 0b0000000001000000; //costante 32
ROM[3001] = 0b0000000000010110; //costante 11

ROM[3002] = 0b0110010010110000; // CA 600
ROM[3003] = 0b1011010001000000; // TS 544
ROM[3004] = 0b0110010010110010; // CA 601
ROM[3005] = 0b1011010001010110; // TS 555
ROM[3006] = 0b0110010010110100; // CA 602
ROM[3007] = 0b1011010001000010; // TS 545
ROM[3008] = 0b0110010010110110; // CA 603
ROM[3009] = 0b1011010001011000; // TS 556

ROM[3010] = 0b0111011101101110; // CA indirizzo di un (valore timer) 3007
ROM[3011] = 0b1011000000110110; // TS INDEX (27) (mv a 27) (reset the timer4)
ROM[3012] = 0b0110000000001110; // CA 0
ROM[3013] = 0b1011010000100100; // TS INDEX (530) (mv a index)

ROM[3014] = 0b1010010000100100; // INDEX 530
ROM[3015] = 0b0110010000111110; // CA arrayCifra1 (543)
ROM[3016] = 0b0001010101111100; // TC toDSKYformat
ROM[3017] = 0b0000000000001100; // EXTEND
ROM[3018] = 0b1111011101110000; // MP indirizzo 3008 di un 32 (mul) (a << 5)
ROM[3019] = 0b0110000000000010; // CA L A
ROM[3020] = 0b1010010000100100; // INDEX 530
ROM[3021] = 0b1011010000100110; // TS DSPTAB (531) (mv)
ROM[3022] = 0b1010010000100100; // INDEX 530
ROM[3023] = 0b0110010001010100; // CA 554 (arrayCifra2)
ROM[3024] = 0b0001010101111100; // TC toDSKYformat
ROM[3025] = 0b1010010000100100; // INDEX 530
ROM[3026] = 0b0101110000100110; // ADS (add to storage) DSPTAB (531) (add and mv)
ROM[3027] = 0b1010010000100100; // INDEX 530
ROM[3028] = 0b0111011101011000; // CA costantiDSPTAB 2996
ROM[3029] = 0b1010010000100100; // INDEX 530
ROM[3030] = 0b0101110000100110; // ADS DSPTAB (add to storage) DSPTAB (531) (add and mv)
ROM[3031] = 0b1010010000100100; // INDEX 530
ROM[3032] = 0b1011010000100110; // TS DSPTAB (531) (to clear overflow flag)
ROM[3033] = 0b0110000000000000; // NOOP // TC computeSign --------------------------------------------------------------
ROM[3034] = 0b0000000000001100; // EXTEND
ROM[3035] = 0b0000010000010000;	// WRITE 8
ROM[3036] = 0b0101010000100100; // INCR 530
ROM[3037] = 0b0110010000100100; // CA 530
ROM[3038] = 0b1011000000000010; // TS L (1)
ROM[3039] = 0b0111011101110010; // CA indirizzo di un 11 3009
ROM[3040] = 0b0000000000001100; // EXTEND
ROM[3041] = 0b1100000000000010; // SU L (1)
ROM[3042] = 0b0000000000001100; // EXTEND
ROM[3043] = 0b0011011111001010; // BZF indirizzo della continuazione (3045)
ROM[3044] = 0b0011011110001100; // TCF ciclo (3014)
ROM[3045] = 0b0110010001101010; // CA 565 (lamps1)
ROM[3046] = 0b0000000000001100; // EXTEND
ROM[3047] = 0b0000010000010000;	// WRITE 8
ROM[3048] = 0b0110010001101100; // CA 566 (lamps2)
ROM[3049] = 0b0000000000001100; // EXTEND
ROM[3050] = 0b0000010000010010;	// WRITE 9
ROM[3051] = 0b1010000000100010;	// RESUME
	
// Tebella valori DSKY
ROM[2589] = DSKY_BLANK;
ROM[2590] = DSKY_0 << 1;
ROM[2591] = DSKY_1 << 1;
ROM[2592] = DSKY_2 << 1;
ROM[2593] = DSKY_3 << 1;
ROM[2594] = DSKY_4 << 1;
ROM[2595] = DSKY_5 << 1;
ROM[2596] = DSKY_6 << 1;
ROM[2597] = DSKY_7 << 1;
ROM[2598] = DSKY_8 << 1;
ROM[2599] = DSKY_9 << 1;

ROM[2750] = 0b1011110010111100; // XCH RAM[606]
ROM[2751] = 0b0110010010111100; // CA 
ROM[2752] = 0b0100100000001110; // ZL 
ROM[2753] = 0b0000000000001100; // EXT 
ROM[2754] = 0b1100000000000010; // SU L
ROM[2755] = 0b0000000000001100; // EXT
ROM[2756] = 0b0011011000001000; // BZF ROM[2820]
ROM[2757] = 0b0110010010111100; // CA 
ROM[2758] = 0b0101000000000010; // INCR L
ROM[2759] = 0b0000000000001100; // EXT 
ROM[2760] = 0b1100000000000010; // SU L
ROM[2761] = 0b0000000000001100; // EXT
ROM[2762] = 0b0011011000001100; // BZF ROM[2822]
ROM[2763] = 0b0110010010111100; // CA 
ROM[2764] = 0b0101000000000010; // INCR L
ROM[2765] = 0b0000000000001100; // EXT 
ROM[2766] = 0b1100000000000010; // SU L
ROM[2767] = 0b0000000000001100; // EXT
ROM[2768] = 0b0011011000010000; // BZF ROM[2824]
ROM[2769] = 0b0110010010111100; // CA 
ROM[2770] = 0b0101000000000010; // INCR L
ROM[2771] = 0b0000000000001100; // EXT 
ROM[2772] = 0b1100000000000010; // SU L
ROM[2773] = 0b0000000000001100; // EXT
ROM[2774] = 0b0011011000010100; // BZF ROM[2826]
ROM[2775] = 0b0110010010111100; // CA 
ROM[2776] = 0b0101000000000010; // INCR L
ROM[2777] = 0b0000000000001100; // EXT 
ROM[2778] = 0b1100000000000010; // SU L
ROM[2779] = 0b0000000000001100; // EXT
ROM[2780] = 0b0011011000011000; // BZF ROM[2828]
ROM[2781] = 0b0110010010111100; // CA 
ROM[2782] = 0b0101000000000010; // INCR L
ROM[2783] = 0b0000000000001100; // EXT
ROM[2784] = 0b1100000000000010; // SU L
ROM[2785] = 0b0000000000001100; // EXT
ROM[2786] = 0b0011011000011100; // BZF ROM[2830]
ROM[2787] = 0b0110010010111100; // CA 
ROM[2788] = 0b0101000000000010; // INCR L
ROM[2789] = 0b0000000000001100; // EXT 
ROM[2790] = 0b1100000000000010; // SU L
ROM[2791] = 0b0000000000001100; // EXT
ROM[2792] = 0b0011011000100000; // BZF ROM[2832]
ROM[2793] = 0b0110010010111100; // CA 
ROM[2794] = 0b0101000000000010; // INCR L
ROM[2795] = 0b0000000000001100; // EXT 
ROM[2796] = 0b1100000000000010; // SU L
ROM[2797] = 0b0000000000001100; // EXT
ROM[2798] = 0b0011011000100100; // BZF ROM[2834]
ROM[2799] = 0b0110010010111100; // CA 
ROM[2800] = 0b0101000000000010; // INCR L
ROM[2801] = 0b0000000000001100; // EXT 
ROM[2802] = 0b1100000000000010; // SU L
ROM[2803] = 0b0000000000001100; // EXT
ROM[2804] = 0b0011011000101000; // BZF ROM[2836]
ROM[2805] = 0b0110010010111100; // CA 
ROM[2806] = 0b0101000000000010; // INCR L
ROM[2807] = 0b0000000000001100; // EXT 
ROM[2808] = 0b1100000000000010; // SU L
ROM[2809] = 0b0000000000001100; // EXT
ROM[2810] = 0b0011011000101100; // BZF ROM[2838]
ROM[2811] = 0b0111010001010000; // CA $2600 (KEY_0)
ROM[2812] = 0b0100100000000000; // LXCH A
ROM[2813] = 0b0110010010111100; // CA 
ROM[2814] = 0b0000000000001100; // EXT 
ROM[2815] = 0b1100000000000010; // SU L
ROM[2816] = 0b0000000000001100; // EXT
ROM[2817] = 0b0011011000001000; // BZF ROM[2820]
ROM[2818] = 0b0011011000110000; // TCF ROM[2840]


// SOTTOPROGRAMMA 1 - KEY 0
ROM[2820] = 0b0111010000111100; // CA $2590
ROM[2821] = 0b0000000000000100; // RETURN

// SOTTOPROGRAMMA 2 - KEY 1
ROM[2822] = 0b0111010000111110; // CA $2591
ROM[2823] = 0b0000000000000100; // RETURN

// SOTTOPROGRAMMA 3 - KEY 2
ROM[2824] = 0b0111010001000000; // CA $2592
ROM[2825] = 0b0000000000000100; // RETURN

// SOTTOPROGRAMMA 4 - KEY 3
ROM[2826] = 0b0111010001000010; // CA $2593
ROM[2827] = 0b0000000000000100; // RETURN

// SOTTOPROGRAMMA 5 - KEY 4
ROM[2828] = 0b0111010001000100; // CA $2594
ROM[2829] = 0b0000000000000100; // RETURN

// SOTTOPROGRAMMA 6 - KEY 5
ROM[2830] = 0b0111010001000110; // CA $2595
ROM[2831] = 0b0000000000000100; // RETURN

// SOTTOPROGRAMMA 7 - KEY 6
ROM[2832] = 0b0111010001001000; // CA $2596
ROM[2833] = 0b0000000000000100; // RETURN

// SOTTOPROGRAMMA 8 - KEY 7
ROM[2834] = 0b0111010001001010; // CA $2597
ROM[2835] = 0b0000000000000100; // RETURN

// SOTTOPROGRAMMA 9 - KEY 8
ROM[2836] = 0b0111010001001100; // CA $2598
ROM[2837] = 0b0000000000000100; // RETURN

// SOTTOPROGRAMMA 10 - KEY 9
ROM[2838] = 0b0111010001001110; // CA $2599
ROM[2839] = 0b0000000000000100; // RETURN

// SOTTOPROGRAMMA 11 - KEY BLANK
ROM[2840] = 0b0111010000111010; // CA $2589
ROM[2841] = 0b0000000000000100; // RETURN

}

void agc::loadINT20(){

ROM[2357] = 0b0000000000001100; // EXT
ROM[2358] = 0b0000000000011000; // READ IO[12];
ROM[2359] = 0b1011100000000010; // XCH L
ROM[2360] = 0b1011100000001110;	// XCH ZR
ROM[2361] = 0b1101010001100110;	// AD $2611
ROM[2362] = 0b0000000000001100; // EXT
ROM[2363] = 0b1100000000000010; // SU L;
ROM[2364] = 0b0000000000001100; // EXT
ROM[2365] = 0b0011001001111110; // BZF $2367
ROM[2366] = 0b0011001110001000; // TCF $2500
ROM[2367] = 0b1101010001100110; // AD $2611
ROM[2368] = 0b1011100000100010; // XCH RAM[17]
ROM[2369] = 0b0111001010001010;	// CA $2373			// accendo lampadina
//ROM[2370] = 0b0000000000001100;	// EXT
//ROM[2371] = 0b0000010000010000;	// WRITE 8
ROM[2370] = 0b0101110001101010;	// ADS 565
ROM[2371] = 0b0001001011000010; // TC $2401 wait 	// attendo
ROM[2372] = 0b0011010101100010;	// TCF $2737
ROM[2373] = 0b0000100000000000;	// Costante usata per accendere la lampadina di reboot

ROM[2500] = 0b0000000000001100; // EXT
ROM[2501] = 0b0000000000011000; // READ IO[12];
ROM[2502] = 0b1011100000000010; // XCH L
ROM[2503] = 0b1011100000001110;	// XCH ZR
ROM[2504] = 0b1101010001110000;	// AD $2616
ROM[2505] = 0b0000000000001100; // EXT
ROM[2506] = 0b1100000000000010; // SU L;
ROM[2507] = 0b0000000000001100; // EXT
ROM[2508] = 0b0011001001011110; // BZF $2351

ROM[2509] = 0b0110010010111010; // CA RAM[605]
ROM[2510] = 0b1011100000000010; // XCH L
ROM[2511] = 0b1011100000001110;	// XCH ZR
ROM[2512] = 0b1100000000001110;	// AD ZR
ROM[2513] = 0b0000000000001100; // EXT
ROM[2514] = 0b1100000000000010; // SU L;
ROM[2515] = 0b0000000000001100; // EXT
ROM[2516] = 0b0011010010000100; // BZF 2626

ROM[2517] = 0b0110010010111010; // CA RAM[605]
ROM[2518] = 0b1011100000000010; // XCH L
ROM[2519] = 0b1011100000001110;	// XCH ZR
ROM[2520] = 0b1101010001010010;	// AD 2601
ROM[2521] = 0b0000000000001100; // EXT
ROM[2522] = 0b1100000000000010; // SU L;
ROM[2523] = 0b0000000000001100; // EXT
ROM[2524] = 0b0011010010011100; // BZF 2638

ROM[2525] = 0b0110010010111010; // CA RAM[605]
ROM[2526] = 0b1011100000000010; // XCH L
ROM[2527] = 0b1011100000001110;	// XCH ZR
ROM[2528] = 0b1101010001010100;	// AD 2602
ROM[2529] = 0b0000000000001100; // EXT
ROM[2530] = 0b1100000000000010; // SU L;
ROM[2531] = 0b0000000000001100; // EXT
ROM[2532] = 0b0011010010110100; // BZF 2650

ROM[2533] = 0b0110010010111010; // CA RAM[605]
ROM[2534] = 0b1011100000000010; // XCH L
ROM[2535] = 0b1011100000001110;	// XCH ZR
ROM[2536] = 0b1101010001010110;	// AD 2603
ROM[2537] = 0b0000000000001100; // EXT
ROM[2538] = 0b1100000000000010; // SU L;
ROM[2539] = 0b0000000000001100; // EXT
ROM[2540] = 0b0011010011001100; // BZF 2662

ROM[2541] = 0b0110010010111010; // CA RAM[605]
ROM[2542] = 0b1011100000000010; // XCH L
ROM[2543] = 0b1011100000001110;	// XCH ZR
ROM[2544] = 0b1101010001011000;	// AD 2604
ROM[2545] = 0b0000000000001100; // EXT
ROM[2546] = 0b1100000000000010; // SU L;
ROM[2547] = 0b0000000000001100; // EXT
ROM[2548] = 0b0011010100000000; // BZF 2688

ROM[2549] = 0b0110010010111010; // CA RAM[605]
ROM[2550] = 0b1011100000000010; // XCH L
ROM[2551] = 0b1011100000001110;	// XCH ZR
ROM[2552] = 0b1101010001011010;	// AD 2605
ROM[2553] = 0b0000000000001100; // EXT
ROM[2554] = 0b1100000000000010; // SU L;
ROM[2555] = 0b0000000000001100; // EXT
ROM[2556] = 0b0011010100011000; // BZF 2700

ROM[2557] = 0b0110010010111010; // CA RAM[605]
ROM[2558] = 0b1011100000000010; // XCH L
ROM[2559] = 0b1011100000001110;	// XCH ZR
ROM[2560] = 0b1101010001011100;	// AD 2606
ROM[2561] = 0b0000000000001100; // EXT
ROM[2562] = 0b1100000000000010; // SU L;
ROM[2563] = 0b0000000000001100; // EXT
ROM[2564] = 0b0011010100110000; // BZF 2712

ROM[2565] = 0b1010000000100010;	// RESUME

// Tabella valori
ROM[2600] = KEY_0 << 1;
ROM[2601] = KEY_1 << 1;
ROM[2602] = KEY_2 << 1;
ROM[2603] = KEY_3 << 1;
ROM[2604] = KEY_4 << 1;
ROM[2605] = KEY_5 << 1;
ROM[2606] = KEY_6 << 1;
ROM[2607] = KEY_7 << 1;
ROM[2608] = KEY_8 << 1;
ROM[2609] = KEY_9 << 1;
ROM[2610] = KEY_VERB << 1;
ROM[2611] = KEY_RSET << 1;
ROM[2612] = KEY_KEY_REL << 1;
ROM[2613] = KEY_ADD << 1;
ROM[2614] = KEY_SUB << 1;
ROM[2615] = KEY_ENTR << 1;
ROM[2616] = KEY_CLR << 1;
ROM[2617] = KEY_NOUN << 1;
ROM[2618] = KEY_PRO_PRESS << 1;
ROM[2619] = KEY_PRO_RELEASE << 1;
ROM[2620] = 0b1111111111100000;	// Costante usata per fare AND con registro A
ROM[2588] = 0b1111111111111100;	// Costante -1 in cmp1

// SOTTOPROGRAMMA 1
ROM[2351] = 0b0111010001010000;	// CA 2600
ROM[2352] = 0b1011010010110000;	// TS RAM[600]
ROM[2353] = 0b1011010010110010;	// TS RAM[601]
ROM[2354] = 0b1011010010110100;	// TS RAM[602]
ROM[2355] = 0b1011010010110110;	// TS RAM[603]
ROM[2356] = 0b0011010001111010; // TCF 2621
ROM[2621] = 0b0110000000001110; // CA ZR
ROM[2622] = 0b1011110010111000; // XCH RAM[604]
ROM[2623] = 0b0110000000001110; // CA ZR
ROM[2624] = 0b1011110010111010; // XCH RAM[605]
ROM[2625] = 0b0001010101100010;	// TC $2737

// SOTTOPROGRAMMA 2
ROM[2626] = 0b0000000000001100; // EXT
ROM[2627] = 0b0000000000011000; // READ IO[12]
ROM[2628] = 0b1011100000000010; // XCH L
ROM[2629] = 0b1011100000001110;	// XCH ZR
ROM[2630] = 0b1101010001100100;	// AD $2610
ROM[2631] = 0b0000000000001100; // EXT
ROM[2632] = 0b1100000000000010; // SU L
ROM[2633] = 0b0000000000001100; // EXT
ROM[2634] = 0b0011010010011000; // BZF $2636
ROM[2635] = 0b1010000000100010;	// RESUME
ROM[2636] = 0b0101010010111010; // INCR RAM[605]
ROM[2637] = 0b0001010101001110;	// TC $2727

// SOTTOPROGRAMMA 3
ROM[2638] = 0b0000000000001100; // EXT
ROM[2639] = 0b0000000000011000; // READ IO[12]
ROM[2640] = 0b1101010000111000; // AD $2588
ROM[2641] = 0b1111010001111000; // MASK $2620
ROM[2642] = 0b0000000000001100; // EXT
ROM[2643] = 0b0011010010101010; // BZF $2645
ROM[2644] = 0b1010000000100010;	// RESUME
ROM[2645] = 0b0000000000001100; // EXT
ROM[2646] = 0b0000000000011000; // READ IO[12]
ROM[2647] = 0b1011110010110000; // XCH RAM[600]
ROM[2648] = 0b0101010010111010; // INCR RAM[605]
ROM[2649] = 0b1010000000100010;	// RESUME

// SOTTOPROGRAMMA 4
ROM[2650] = 0b0000000000001100; // EXT
ROM[2651] = 0b0000000000011000; // READ IO[12]
ROM[2652] = 0b1101010000111000; // AD $2588
ROM[2653] = 0b1111010001111000; // MASK $2620
ROM[2654] = 0b0000000000001100; // EXT
ROM[2655] = 0b0011010011000010; // BZF $2657
ROM[2656] = 0b1010000000100010;	// RESUME
ROM[2657] = 0b0000000000001100; // EXT
ROM[2658] = 0b0000000000011000; // READ IO[12]
ROM[2659] = 0b1011110010110010; // XCH RAM[601]
ROM[2660] = 0b0101010010111010; // INCR RAM[605]
ROM[2661] = 0b1010000000100010;	// RESUME

// SOTTOPROGRAMMA 5
ROM[2662] = 0b0000000000001100; // EXT
ROM[2663] = 0b0000000000011000; // READ IO[12]
ROM[2664] = 0b1011100000000010; // XCH L
ROM[2665] = 0b1011100000001110;	// XCH ZR
ROM[2666] = 0b1101010001101110;	// AD $2615
ROM[2667] = 0b0000000000001100; // EXT
ROM[2668] = 0b1100000000000010; // SU L
ROM[2669] = 0b0000000000001100; // EXT
ROM[2670] = 0b0011010011110010; // BZF $2681
ROM[2671] = 0b0000000000001100; // EXT
ROM[2672] = 0b0000000000011000; // READ IO[12]
ROM[2673] = 0b1011100000000010; // XCH L
ROM[2674] = 0b1011100000001110;	// XCH ZR
ROM[2675] = 0b1101010001110010;	// AD $2617
ROM[2676] = 0b0000000000001100; // EXT
ROM[2677] = 0b1100000000000010; // SU L
ROM[2678] = 0b0000000000001100; // EXT
ROM[2679] = 0b0011010011111100; // BZF $2686
ROM[2680] = 0b1010000000100010;	// RESUME

// SOTTOPROGRAMMA 5.1
ROM[2681] = 0b0111010001010010; // CA $2601
ROM[2682] = 0b1011110010111000; // XCH RAM[604]
ROM[2683] = 0b0110000000001110; // CA ZR
ROM[2684] = 0b1011110010111010; // XCH RAM[605]
ROM[2685] = 0b0001010101100010;	// TC $2737

// SOTTOPROGRAMMA 5.2
ROM[2686] = 0b0101010010111010; // INCR RAM[605]
ROM[2687] = 0b0001010101011000;	// TC $2732

// SOTTOPROGRAMMA 6
ROM[2688] = 0b0000000000001100; // EXT
ROM[2689] = 0b0000000000011000; // READ IO[12]
ROM[2690] = 0b1101010000111000; // AD $2588
ROM[2691] = 0b1111010001111000; // MASK $2620
ROM[2692] = 0b0000000000001100; // EXT
ROM[2693] = 0b0011010100001110; // BZF $2695
ROM[2694] = 0b1010000000100010;	// RESUME
ROM[2695] = 0b0000000000001100; // EXT
ROM[2696] = 0b0000000000011000; // READ IO[12]
ROM[2697] = 0b1011110010110100; // XCH RAM[602]
ROM[2698] = 0b0101010010111010; // INCR RAM[605]
ROM[2699] = 0b1010000000100010;	// RESUME

// SOTTOPROGRAMMA 7
ROM[2700] = 0b0000000000001100; // EXT
ROM[2701] = 0b0000000000011000; // READ IO[12]
ROM[2702] = 0b1101010000111000; // AD $2588
ROM[2703] = 0b1111010001111000; // MASK $2620
ROM[2704] = 0b0000000000001100; // EXT
ROM[2705] = 0b0011010100100110; // BZF $2707
ROM[2706] = 0b1010000000100010;	// RESUME
ROM[2707] = 0b0000000000001100; // EXT
ROM[2708] = 0b0000000000011000; // READ IO[12]
ROM[2709] = 0b1011110010110110; // XCH RAM[603]
ROM[2710] = 0b0101010010111010; // INCR RAM[605]
ROM[2711] = 0b1010000000100010;	// RESUME

// SOTTOPROGRAMMA 8
ROM[2712] = 0b0000000000001100; // EXT
ROM[2713] = 0b0000000000011000; // READ IO[12]
ROM[2714] = 0b1011100000000010; // XCH L
ROM[2715] = 0b1011100000001110;	// XCH ZR
ROM[2716] = 0b1101010001101110;	// AD $2615
ROM[2717] = 0b0000000000001100; // EXT
ROM[2718] = 0b1100000000000010; // SU L
ROM[2719] = 0b0000000000001100; // EXT
ROM[2720] = 0b0011010101000100; // BZF $2722
ROM[2721] = 0b1010000000100010;	// RESUME
ROM[2722] = 0b0111010001010010; // CA $2601
ROM[2723] = 0b1011110010111000; // XCH RAM[604]
ROM[2724] = 0b0110000000001110; // CA ZR
ROM[2725] = 0b1011110010111010; // XCH RAM[605]
ROM[2726] = 0b0001010101100010;	// TC $2737

// SOTTOPROGRAMMA .1 - Lampeggia VERB
ROM[2727] = 0b1011100000001110;	// XCH ZR
ROM[2728] = 0b1101010001010010;	// AD $2601
ROM[2729] = 0b0000000000001100; // EXT
ROM[2730] = 0b0000010001010000; // WRITE IO[40]
ROM[2731] = 0b1010000000100010;	// RESUME

// SOTTOPROGRAMMA .2 - Lampeggia NOUN
ROM[2732] = 0b1011100000001110;	// XCH ZR
ROM[2733] = 0b1101010001010100;	// AD $2602
ROM[2734] = 0b0000000000001100; // EXT
ROM[2735] = 0b0000010001010000; // WRITE IO[40]
ROM[2736] = 0b1010000000100010;	// RESUME

// SOTTOPROGRAMMA .3 - Stop blinking
ROM[2737] = 0b1011100000001110;	// XCH ZR
ROM[2738] = 0b0000000000001100; // EXT
ROM[2739] = 0b0000010001010000; // WRITE IO[40]
ROM[2740] = 0b1010000000100010;	// RESUME

}

void agc::loadMAIN(){
	
	ROM[2300] = 0b0110010010111000;	// CA A, $604 (carico busy in a)
	ROM[2301] = 0b0000000000001100; // EXT
	ROM[2302] = 0b0011000111111000; // BZF 2300 (jz)
	//azzerare busy
	ROM[2303] = 0b0110000000001110; // CA ZR
	ROM[2304] = 0b1011110010111000; // XCH RAM[604]
	//controllo num. programma
	ROM[2305] = 0b0111010001010110; // CA 2603 (KEY_3)
	ROM[2306] = 0b1011100000000010; // XCH L
	ROM[2307] = 0b0110010010110000; // CA 600
	ROM[2308] = 0b0000000000001100; // EXT
	ROM[2309] = 0b1100000000000010; // SU L
	ROM[2310] = 0b0000000000001100; // EXT
	ROM[2311] = 0b0011001000010100; // BZF //salta a controllo successivo
	ROM[2312] = 0b0110000000000000;	// NOOP //esegui prog errore
	ROM[2313] = 0b0011000111111000; // TCF 2300 (salta a capo)
	//controlla seconda cifra
	ROM[2314] = 0b0111010001011010; // CA 2605 (KEY_5)
	ROM[2315] = 0b1011100000000010; // XCH L
	ROM[2316] = 0b0110010010110010; // CA 601
	ROM[2317] = 0b0000000000001100; // EXT
	ROM[2318] = 0b1100000000000010; // SU L
	ROM[2319] = 0b0000000000001100; // EXT
	ROM[2320] = 0b0011001000100110; // BZF //salta a controllo successivo
	ROM[2321] = 0b0110000000000000;	// NOOP //esegui prog errore
	ROM[2322] = 0b0011000111111000; // TCF 2300 (salta a capo)
	//controlla terza cifra
	ROM[2323] = 0b0111010001010010; // CA 2601 (KEY_1)
	ROM[2324] = 0b1011100000000010; // XCH L
	ROM[2325] = 0b0110010010110100; // CA 602
	ROM[2326] = 0b0000000000001100; // EXT
	ROM[2327] = 0b1100000000000010; // SU L
	ROM[2328] = 0b0000000000001100; // EXT
	ROM[2329] = 0b0011001000111000; // BZF //salta a controllo successivo
	ROM[2330] = 0b0110000000000000;	// NOOP //esegui prog errore
	ROM[2331] = 0b0011000111111000; // TCF 2300 (salta a capo)
	
	//controlla quarta cifra
	ROM[2332] = 0b0111010001010010; // CA 2601 (KEY_1)
	ROM[2333] = 0b1011100000000010; // XCH L
	ROM[2334] = 0b0110010010110110; // CA 603
	ROM[2335] = 0b0000000000001100; // EXT
	ROM[2336] = 0b1100000000000010; // SU L
	ROM[2337] = 0b0000000000001100; // EXT
	ROM[2338] = 0b0011001001001010; // BZF 2341 (salta a "setta il numero di programma")
	ROM[2339] = 0b0110000000000000;	// NOOP //esegui prog errore
	ROM[2340] = 0b0011000111111000; // TCF 2300 (salta a capo)
	//setta il numero di programma
	ROM[2341] = 0b0111001001010010;	// CA A, $2345
	ROM[2342] = 0b0000000000001100;	// EXT
	ROM[2343] = 0b0000010000010000;	// WRITE 8
	//salta a programma
	ROM[2344] = 0b0011000001110110; // BZF 2107
	ROM[2345] = 0b1011011011111100; // combinazione DSKY 35
}

void agc::loadPrograms(){
	
	// SOTTOPROGRAMMA 3: Test IO, accensione lampadine
	ROM[2107] = 0b0000000000001000;	// INHINT
	
	ROM[2108] = 0b0111001011010100;	// CA A, $2410
	ROM[2109] = 0b0000000000001100;	// EXT
	ROM[2110] = 0b0000010000010010;	// WRITE 9
	ROM[2111] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2112] = 0b0111001011010110;	// CA A, $2411
	ROM[2113] = 0b0000000000001100;	// EXT
	ROM[2114] = 0b0000010000010000;	// WRITE 8
	ROM[2115] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2116] = 0b0111001011011000;	// CA A, $2412
	ROM[2117] = 0b0000000000001100;	// EXT
	ROM[2118] = 0b0000010000010000;	// WRITE 8
	ROM[2119] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2120] = 0b0111001011011010;	// CA A, $2413
	ROM[2121] = 0b0000000000001100;	// EXT
	ROM[2122] = 0b0000010000010010;	// WRITE 9
	ROM[2123] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2124] = 0b0111001011011100;	// CA A, $2414â€¬
	ROM[2125] = 0b0000000000001100;	// EXT
	ROM[2126] = 0b0000010000010010;	// WRITE 9
	ROM[2127] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2128] = 0b0111001011011110;	// CA A, $2415
	ROM[2129] = 0b0000000000001100;	// EXT
	ROM[2130] = 0b0000010000010010;	// WRITE 9
	ROM[2131] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2132] = 0b0111001011100000;	// CA A, $2416
	ROM[2133] = 0b0000000000001100;	// EXT
	ROM[2134] = 0b0000010000010000;	// WRITE 8
	ROM[2135] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2136] = 0b0111001011100010;	// CA A, $2417
	ROM[2137] = 0b0000000000001100;	// EXT
	ROM[2138] = 0b0000010000010000;	// WRITE 8
	ROM[2139] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2140] = 0b0111001011100100;	// CA A, $2418
	ROM[2141] = 0b0000000000001100;	// EXT
	ROM[2142] = 0b0000010000010000;	// WRITE 8
	ROM[2143] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2144] = 0b0111001011100110;	// CA A, $2419
	ROM[2145] = 0b0000000000001100;	// EXT
	ROM[2146] = 0b0000010000010000;	// WRITE 8
	ROM[2147] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2148] = 0b0111001011101000;	// CA A, $2420
	ROM[2149] = 0b0000000000001100;	// EXT
	ROM[2150] = 0b0000010000010000;	// WRITE 8
	ROM[2151] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2152] = 0b0111001011101010;	// CA A, $2421
	ROM[2153] = 0b0000000000001100;	// EXT
	ROM[2154] = 0b0000010000010000;	// WRITE 8
	ROM[2155] = 0b0001001011000010; // TC 2401 wait
	
	//Display
	ROM[2156] = 0b0111001011101100;	// CA A, $2422
	ROM[2157] = 0b0000000000001100;	// EXT
	ROM[2158] = 0b0000010000010010;	// WRITE 9
	ROM[2159] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2160] = 0b0111001011101110;	// CA A, $2423
	ROM[2161] = 0b0000000000001100;	// EXT
	ROM[2162] = 0b0000010000010000;	// WRITE 8
	ROM[2163] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2164] = 0b0111001011110000;	// CA A, $2424
	ROM[2165] = 0b0000000000001100;	// EXT
	ROM[2166] = 0b0000010000010010;	// WRITE 9
	ROM[2167] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2168] = 0b0111001011110010;	// CA A, $2425
	ROM[2169] = 0b0000000000001100;	// EXT
	ROM[2170] = 0b0000010000010000;	// WRITE 8
	ROM[2171] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2172] = 0b0111001011110100;	// CA A, $2426
	ROM[2173] = 0b0000000000001100;	// EXT
	ROM[2174] = 0b0000010000010000;	// WRITE 8
	ROM[2175] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2176] = 0b0111001011110110;	// CA A, $2427
	ROM[2177] = 0b0000000000001100;	// EXT
	ROM[2178] = 0b0000010000010000;	// WRITE 8
	
	ROM[2179] = 0b0111001011111000;	// CA A, $2428
	ROM[2180] = 0b0000000000001100;	// EXT
	ROM[2181] = 0b0000010000010000;	// WRITE 8
	
	ROM[2182] = 0b0111001011111010;	// CA A, $2429
	ROM[2183] = 0b0000000000001100;	// EXT
	ROM[2184] = 0b0000010000010000;	// WRITE 8
	ROM[2185] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2186] = 0b0111001011111100;	// CA A, $2430
	ROM[2187] = 0b0000000000001100;	// EXT
	ROM[2188] = 0b0000010000010000;	// WRITE 8
	
	ROM[2189] = 0b0111001011111110;	// CA A, $2431
	ROM[2190] = 0b0000000000001100;	// EXT
	ROM[2191] = 0b0000010000010000;	// WRITE 8
	
	ROM[2192] = 0b0111001100000000;	// CA A, $2432
	ROM[2193] = 0b0000000000001100;	// EXT
	ROM[2194] = 0b0000010000010000;	// WRITE 8
	ROM[2195] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2196] = 0b0111001011010000;	// CA A, $2408
	ROM[2197] = 0b0000000000001100;	// EXT
	ROM[2198] = 0b0000010000010000;	// WRITE 8
	
	ROM[2199] = 0b0111001100000010;	// CA A, $2433
	ROM[2200] = 0b0000000000001100;	// EXT
	ROM[2201] = 0b0000010000010000;	// WRITE 8
	
	ROM[2202] = 0b0111001100000100;	// CA A, $2434
	ROM[2203] = 0b0000000000001100;	// EXT
	ROM[2204] = 0b0000010000010000;	// WRITE 8
	ROM[2205] = 0b0001001011000010; // TC 2401 wait
	
	//Lamps off
	ROM[2206] = 0b0111001100000110;	// CA A, $2435
	ROM[2207] = 0b0000000000001100;	// EXT
	ROM[2208] = 0b0000010000010010;	// WRITE 9
	ROM[2209] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2210] = 0b0111001100001000;	// CA A, $2436
	ROM[2211] = 0b0000000000001100;	// EXT
	ROM[2212] = 0b0000010000010000;	// WRITE 8
	ROM[2213] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2214] = 0b0111001100001010;	// CA A, $2437
	ROM[2215] = 0b0000000000001100;	// EXT
	ROM[2216] = 0b0000010000010000;	// WRITE 8
	ROM[2217] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2218] = 0b0111001100001100;	// CA A, $2438
	ROM[2219] = 0b0000000000001100;	// EXT
	ROM[2220] = 0b0000010000010010;	// WRITE 9
	ROM[2221] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2222] = 0b0111001100001110;	// CA A, $2439
	ROM[2223] = 0b0000000000001100;	// EXT
	ROM[2224] = 0b0000010000010010;	// WRITE 9
	ROM[2225] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2226] = 0b0111001100010000;	// CA A, $2440
	ROM[2227] = 0b0000000000001100;	// EXT
	ROM[2228] = 0b0000010000010010;	// WRITE 9
	ROM[2229] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2230] = 0b0111001100010010;	// CA A, $2441
	ROM[2231] = 0b0000000000001100;	// EXT
	ROM[2232] = 0b0000010000010000;	// WRITE 8
	ROM[2233] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2234] = 0b0111001100010100;	// CA A, $2442
	ROM[2235] = 0b0000000000001100;	// EXT
	ROM[2236] = 0b0000010000010000;	// WRITE 8
	ROM[2237] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2238] = 0b0111001100010110;	// CA A, $2443
	ROM[2239] = 0b0000000000001100;	// EXT
	ROM[2240] = 0b0000010000010000;	// WRITE 8
	ROM[2241] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2242] = 0b0111001100011000;	// CA A, $2444
	ROM[2243] = 0b0000000000001100;	// EXT
	ROM[2244] = 0b0000010000010000;	// WRITE 8
	ROM[2245] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2246] = 0b0111001100011010;	// CA A, $2445
	ROM[2247] = 0b0000000000001100;	// EXT
	ROM[2248] = 0b0000010000010000;	// WRITE 8
	ROM[2249] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2250] = 0b0111001100011100;	// CA A, $2446
	ROM[2251] = 0b0000000000001100;	// EXT
	ROM[2252] = 0b0000010000010000;	// WRITE 8
	ROM[2253] = 0b0001001011000010; // TC 2401 wait
	
	//Display off
	ROM[2254] = 0b0111001100011110;	// CA A, $2447
	ROM[2255] = 0b0000000000001100;	// EXT
	ROM[2256] = 0b0000010000010010;	// WRITE 9
	ROM[2257] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2258] = 0b0111001100100000;	// CA A, $2448
	ROM[2259] = 0b0000000000001100;	// EXT
	ROM[2260] = 0b0000010000010000;	// WRITE 8
	ROM[2261] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2262] = 0b0111001100100010;	// CA A, $2449
	ROM[2263] = 0b0000000000001100;	// EXT
	ROM[2264] = 0b0000010000010010;	// WRITE 9
	ROM[2265] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2266] = 0b0111001100100100;	// CA A, $2450
	ROM[2267] = 0b0000000000001100;	// EXT
	ROM[2268] = 0b0000010000010000;	// WRITE 8
	ROM[2269] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2270] = 0b0111001100100110;	// CA A, $2451
	ROM[2271] = 0b0000000000001100;	// EXT
	ROM[2272] = 0b0000010000010000;	// WRITE 8
	ROM[2273] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2274] = 0b0111001100101000;	// CA A, $2452
	ROM[2275] = 0b0000000000001100;	// EXT
	ROM[2276] = 0b0000010000010000;	// WRITE 8
	
	ROM[2277] = 0b0111001100101010;	// CA A, $2453
	ROM[2278] = 0b0000000000001100;	// EXT
	ROM[2279] = 0b0000010000010000;	// WRITE 8
	
	ROM[2280] = 0b0111001100101100;	// CA A, $2454
	ROM[2281] = 0b0000000000001100;	// EXT
	ROM[2282] = 0b0000010000010000;	// WRITE 8
	ROM[2283] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2284] = 0b0111001100101110;	// CA A, $2455
	ROM[2285] = 0b0000000000001100;	// EXT
	ROM[2286] = 0b0000010000010000;	// WRITE 8
	
	ROM[2287] = 0b0111001100110000;	// CA A, $2456
	ROM[2288] = 0b0000000000001100;	// EXT
	ROM[2289] = 0b0000010000010000;	// WRITE 8

	ROM[2290] = 0b0111001100110010;	// CA A, $2457
	ROM[2291] = 0b0000000000001100;	// EXT
	ROM[2292] = 0b0000010000010000;	// WRITE 8
	ROM[2293] = 0b0001001011000010; // TC 2401 wait
	
	ROM[2294] = 0b0111001011010010;	// CA A, $2409
	ROM[2295] = 0b0000000000001100;	// EXT
	ROM[2296] = 0b0000010000010000;	// WRITE 8
	
	ROM[2297] = 0b0011001100111000; // TCF 2460 (jmp)
	
	/*- Constants and sub program -*/
	//Attesa attiva
	ROM[2400] = 0b0000101110011110; // 1487 (125 ms.)
	ROM[2401] = 0b0111001011000000; // CA A, $2400
	ROM[2402] = 0b0000000000001100; // EXT
	ROM[2403] = 0b0101100000000000; // DIM A  (dec A)
	ROM[2404] = 0b0000000000001100; // EXT
	ROM[2405] = 0b0011001011001110; // BZF 2407 (jz)
	ROM[2406] = 0b0011001011000100; // TCF 2402 (jmp)
	ROM[2407] = 0b0000000000000100; // RETURN	(ret)
	
	ROM[2408] = 0b0011111101111010;	// digits 17,19		8
	ROM[2409] = 0b0011010101101010;	// digits 17,19		8
	
	// Tabella lampadine
	ROM[2410] = 0b0000000000001000;
	ROM[2411] = 0b1100000000010000;
	ROM[2412] = 0b1100010000010000;
	ROM[2413] = 0b0000000000101000;
	ROM[2414] = 0b0000000010101000;
	ROM[2415] = 0b0000000010111000;
	ROM[2416] = 0b1100010011010000;
	ROM[2417] = 0b1100011011010000;
	ROM[2418] = 0b1100111011010000;
	ROM[2419] = 0b1100111111010000;
	ROM[2420] = 0b1100111111110000;
	ROM[2421] = 0b1100111111111000;
	
	ROM[2422] = 0b0000000110111100; // PROG DSP			9
	ROM[2423] = 0b1011011101111010;	// digits 0,1		8
	ROM[2424] = 0b0000000111111000;	// VERB / NOUN		9
	ROM[2425] = 0b1010011101111010;	// digits 2,3		8
	ROM[2426] = 0b1001011101111010;	// digits 4,5		8
	ROM[2427] = 0b1000000000111010;	// digits -,7		8
	ROM[2428] = 0b0111111101111010;	// digits 8,9		8
	ROM[2429] = 0b0110011101111010;	// digits 10,11		8
	ROM[2430] = 0b0101111101111010;	// digits 13,14		8
	ROM[2431] = 0b0100011101111010;	// digits 15,16		8
	ROM[2432] = 0b0011111101101010;	// digits 17,19		8
	ROM[2433] = 0b0010111101111010;	// digits 20,21		8
	ROM[2434] = 0b0001011101111010;	// digits 22,23		8
	
	//OFF
	ROM[2435] = 0b0000000111110000;
	ROM[2436] = 0b1100111101101000;
	ROM[2437] = 0b1100101101101000;
	ROM[2438] = 0b0000000111010000;
	ROM[2439] = 0b0000000101010000;
	ROM[2440] = 0b0000000101000000;
	ROM[2441] = 0b1100101100101000;
	ROM[2442] = 0b1100100100101000;
	ROM[2443] = 0b1100000100101000;
	ROM[2444] = 0b1100000000101000;
	ROM[2445] = 0b1100000000001000;
	ROM[2446] = 0b1100000000000000;
	
	ROM[2447] = 0b0000000001000000; // PROG DSP			9
	ROM[2448] = 0b1011010101101010;	// digits 0,1		8
	ROM[2449] = 0b0000000000000000;	// VERB / NOUN		9
	ROM[2450] = 0b1010010101101010;	// digits 2,3		8
	ROM[2451] = 0b1001010101101010;	// digits 4,5		8
	ROM[2452] = 0b1000000000101010;	// digits -,7		8
	ROM[2453] = 0b0111010101101010;	// digits 8,9		8
	ROM[2454] = 0b0110010101101010;	// digits 10,11		8
	ROM[2455] = 0b0101010101101010;	// digits 13,14		8
	ROM[2456] = 0b0100010101101010;	// digits 15,16		8
	ROM[2457] = 0b0011010101111010;	// digits 17,19		8
	ROM[2458] = 0b0010010101101010;	// digits 20,21		8
	ROM[2459] = 0b0001010101101010;	// digits 22,23		8
	/*- /Constants and sub program -*/
	
	ROM[2460] = 0b0111001100110100;	// CA A, $2458
	ROM[2461] = 0b0000000000001100;	// EXT
	ROM[2462] = 0b0000010000010000;	// WRITE 8
	
	ROM[2463] = 0b0111001100110110;	// CA A, $2459
	ROM[2464] = 0b0000000000001100;	// EXT
	ROM[2465] = 0b0000010000010000;	// WRITE 8
	ROM[2466] = 0b0001001011000010; // TC 2401 wait
	
	// Salta a main
	ROM[2467] = 0b0000000000000110;	// RELINT
	ROM[2468] = 0b0111001101011010; // CA 2477
	ROM[2469] = 0b1011010000111110; // TS 543
	ROM[2470] = 0b1011010001010100; // TS 554
	ROM[2471] = 0b0111001101011100; // CA 2478
	ROM[2472] = 0b1011010010110000; // TS 600
	ROM[2473] = 0b1011010010110010; // TS 600
	ROM[2474] = 0b1011010010110100; // TS 602
	ROM[2475] = 0b1011010010110110; // TS 603
	ROM[2476] = 0b0011000111111000; // TCF 2300 (salta a main)
	ROM[2477] = 0b1000000000000000; // constant -0
	ROM[2478] = 0b0000000000000000; // constant 0
	
}

void agc::prog1(){
	
	ROM[2092] = 0b0110001111100110; // CA NINE	
	ROM[2093] = 0b1011001111101000; // TS COUNT - LOOPAGIN -- trasferisce A in COUNT

	ROM[2094] = 0b1010001111101000; // INDEX COUNT	
	ROM[2095] = 0b0110001111101010; // CA TABL1	
	ROM[2096] = 0b1011000000101010; // TS SR   -- trasferisce A in SR
	ROM[2097] = 0b0110000000101010; // CA SR
	
	ROM[2098] = 0b1010001111101000; // INDEX COUNT	
	ROM[2099] = 0b1011001111101010; // TS TABL1	
	ROM[2100] = 0b0010001111101000; // CCS COUNT	
	ROM[2101] = 0b0011000001011010; // TCF LOOPAGIN	

	ROM[2102] = 0b0000000000001100; // EXT
	ROM[2103] = 0b0001110000000000; // ALT
	
	RAM[499] =  0b0000000000010010; // DEC 9 - NINE
	RAM[500] =  0b0000000000000000; // DEC 0 - COUNT
	RAM[501] =  0b1111111111111110;	// TAB1
	
}